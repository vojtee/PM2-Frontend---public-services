(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[883],{1023:function(t,e,i){"use strict";var s=i(4836);e.Z=void 0;var a=s(i(4938)),r=i(5893),n=(0,a.default)((0,r.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");e.Z=n},6242:function(t,e,i){"use strict";i.d(e,{Z:function(){return v}});var s=i(7462),a=i(3366),r=i(7294),n=i(6010),o=i(4780),d=i(948),l=i(1657),u=i(1791),c=i(1588),x=i(4867);function h(t){return(0,x.Z)("MuiCard",t)}(0,c.Z)("MuiCard",["root"]);var p=i(5893);let Z=["className","raised"],f=t=>{let{classes:e}=t;return(0,o.Z)({root:["root"]},h,e)},m=(0,d.ZP)(u.Z,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),g=r.forwardRef(function(t,e){let i=(0,l.Z)({props:t,name:"MuiCard"}),{className:r,raised:o=!1}=i,d=(0,a.Z)(i,Z),u=(0,s.Z)({},i,{raised:o}),c=f(u);return(0,p.jsx)(m,(0,s.Z)({className:(0,n.Z)(c.root,r),elevation:o?8:void 0,ref:e,ownerState:u},d))});var v=g},5582:function(t,e,i){"use strict";i.d(e,{Z:function(){return w}});var s=i(3366),a=i(7462),r=i(7294),n=i(6010),o=i(4142),d=i(4867),l=i(4780),u=i(9628),c=i(3264),x=i(6500),h=i(5893);let p=["className","component","disableGutters","fixed","maxWidth","classes"],Z=(0,x.Z)(),f=(0,c.Z)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:i}=t;return[e.root,e[`maxWidth${(0,o.Z)(String(i.maxWidth))}`],i.fixed&&e.fixed,i.disableGutters&&e.disableGutters]}}),m=t=>(0,u.Z)({props:t,name:"MuiContainer",defaultTheme:Z}),g=(t,e)=>{let i=t=>(0,d.Z)(e,t),{classes:s,fixed:a,disableGutters:r,maxWidth:n}=t,u={root:["root",n&&`maxWidth${(0,o.Z)(String(n))}`,a&&"fixed",r&&"disableGutters"]};return(0,l.Z)(u,i,s)};var v=i(8216),b=i(948),j=i(1657);let k=function(t={}){let{createStyledComponent:e=f,useThemeProps:i=m,componentName:o="MuiContainer"}=t,d=e(({theme:t,ownerState:e})=>(0,a.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}),({theme:t,ownerState:e})=>e.fixed&&Object.keys(t.breakpoints.values).reduce((e,i)=>{let s=t.breakpoints.values[i];return 0!==s&&(e[t.breakpoints.up(i)]={maxWidth:`${s}${t.breakpoints.unit}`}),e},{}),({theme:t,ownerState:e})=>(0,a.Z)({},"xs"===e.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},e.maxWidth&&"xs"!==e.maxWidth&&{[t.breakpoints.up(e.maxWidth)]:{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`}})),l=r.forwardRef(function(t,e){let r=i(t),{className:l,component:u="div",disableGutters:c=!1,fixed:x=!1,maxWidth:Z="lg"}=r,f=(0,s.Z)(r,p),m=(0,a.Z)({},r,{component:u,disableGutters:c,fixed:x,maxWidth:Z}),v=g(m,o);return(0,h.jsx)(d,(0,a.Z)({as:u,ownerState:m,className:(0,n.Z)(v.root,l),ref:e},f))});return l}({createStyledComponent:(0,b.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:i}=t;return[e.root,e[`maxWidth${(0,v.Z)(String(i.maxWidth))}`],i.fixed&&e.fixed,i.disableGutters&&e.disableGutters]}}),useThemeProps:t=>(0,j.Z)({props:t,name:"MuiContainer"})});var w=k},3264:function(t,e,i){"use strict";var s=i(182);let a=(0,s.ZP)();e.Z=a},4242:function(t,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/issues/[id]",function(){return i(7391)}])},7391:function(t,e,i){"use strict";i.r(e);var s=i(5893),a=i(7357),r=i(5582),n=i(6447),o=i(6242),d=i(8445),l=i(7720),u=i(4267),c=i(6886),x=i(5861),h=i(3321),p=i(8334),Z=i(7294),f=i(1023),m=i(4674),g=i(1664),v=i.n(g),b=i(2662),j=i(6822),k=i(1163);let w=()=>{let t=(0,k.useRouter)(),{id:e}=t.query,i=async t=>{try{let e=await p.get("/api/v1/issues/"+t);console.log(e.data),w({id:e.data.id,photo:e.data.photo,coordinates:{latitude:e.data.coordinates.latitude,longitude:e.data.coordinates.longitude},description:e.data.description,title:e.data.title,authorUid:e.data.authorUid,categoryId:e.data.categoryId,creationDate:e.data.creationDate,status:e.data.status,likeCount:e.data.likeCount})}catch(t){console.error("Error fetching issue:",t)}},p=(0,j.Z)((0,b.a)().user.accessToken),[g,w]=(0,Z.useState)(null),[C,S]=(0,Z.useState)("Mark as solved"),[W,y]=(0,Z.useState)("Reserve issue"),[R,M]=(0,Z.useState)(!1),L=()=>{"SOLVED"==g.status?(w(t=>({...t,status:"SOLVING"})),S("Mark as solved")):(w(t=>({...t,status:"SOLVED"})),S("Mark as solving"))},_=()=>{w(t=>({...t,status:"SOLVING"})),y("Reserved"),M(!0)};return(0,Z.useEffect)(()=>{e&&i(e)},[e]),(0,s.jsx)(a.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,s.jsx)(r.Z,{maxWidth:"lg",children:(0,s.jsx)(n.Z,{spacing:3,children:(0,s.jsxs)(o.Z,{children:[(0,s.jsx)(d.Z,{subheader:g?"#"+g.id:null,title:g?g.title:null,action:(0,s.jsx)(m.Z,{component:v(),href:"/issues",children:(0,s.jsx)(f.Z,{})})}),(0,s.jsx)(l.Z,{}),(0,s.jsx)(u.Z,{children:(0,s.jsxs)(c.ZP,{container:!0,spacing:6,wrap:"wrap",children:[(0,s.jsx)(c.ZP,{item:!0,xs:8,children:(0,s.jsx)(n.Z,{spacing:1,children:(0,s.jsxs)(n.Z,{children:[(0,s.jsx)(x.Z,{children:g?g.description:null}),(0,s.jsx)("img",{alt:"Under development",src:g?g.photo:null,style:{display:"inline-block",maxWidth:"100%",width:400}})]})})}),(0,s.jsx)(c.ZP,{item:!0,xs:4,children:(0,s.jsx)(n.Z,{spacing:1,children:(0,s.jsxs)(n.Z,{spacing:2,children:[(0,s.jsx)(x.Z,{children:g?g.coordinates.latitude+" "+g.coordinates.longitude:null}),(0,s.jsx)(x.Z,{children:g?"Likes: "+g.likeCount:null}),(0,s.jsx)(x.Z,{children:g?g.status:null}),(0,s.jsx)(x.Z,{children:g?g.creationDate.substring(0,10):null}),(0,s.jsx)("div",{style:{display:"inline-flex"}}),(0,s.jsx)(h.Z,{onClick:L,children:C}),(0,s.jsx)(h.Z,{disabled:R,onClick:_,children:W})]})})})]})})]})})})})};w.getLayout=t=>(0,s.jsx)(p.A,{children:t}),e.default=w},6822:function(t,e,i){"use strict";var s=i(5121);let a=()=>{let t=s.Z.create({baseURL:"https://bettercity.mikita.dev",timeout:8e3,headers:{Authorization:"Bearer "+window.sessionStorage.getItem("token")}});return t};e.Z=a}},function(t){t.O(0,[60,230,410,121,723,334,774,888,179],function(){return t(t.s=4242)}),_N_E=t.O()}]);