(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[558],{1426:function(e,r,t){"use strict";t.d(r,{Z:function(){return A}});var n=t(7462),a=t(3366),l=t(7294),i=t(6010),o=t(4780),s=t(4867),u=t(3264),c=t(9628),d=t(6682),m=t(9707),p=t(6500);function h(e){return e.level>0&&e.container}function f(e){return function(r){return`var(--Grid-${r}Spacing${e.level||""})`}}function v(e){return function(r){return 0===e.level?`var(--Grid-${r}Spacing)`:`var(--Grid-${r}Spacing${e.level-1||""})`}}let x=(e,r)=>e.filter(e=>r.includes(e)),g=(e,r,t)=>{let n=e.keys[0];if(Array.isArray(r))r.forEach((r,n)=>{t((r,t)=>{n<=e.keys.length-1&&(0===n?Object.assign(r,t):r[e.up(e.keys[n])]=t)},r)});else if(r&&"object"==typeof r){let a=Object.keys(r).length>e.keys.length?e.keys:x(e.keys,Object.keys(r));a.forEach(a=>{if(-1!==e.keys.indexOf(a)){let l=r[a];void 0!==l&&t((r,t)=>{n===a?Object.assign(r,t):r[e.up(a)]=t},l)}})}else("number"==typeof r||"string"==typeof r)&&t((e,r)=>{Object.assign(e,r)},r)},b=({theme:e,ownerState:r})=>{let t=f(r),n={};return g(e.breakpoints,r.gridSize,(e,a)=>{let l={};!0===a&&(l={flexBasis:0,flexGrow:1,maxWidth:"100%"}),"auto"===a&&(l={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),"number"==typeof a&&(l={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${a} / var(--Grid-columns)${h(r)?` + ${t("column")}`:""})`}),e(n,l)}),n},w=({theme:e,ownerState:r})=>{let t={};return g(e.breakpoints,r.gridOffset,(e,r)=>{let n={};"auto"===r&&(n={marginLeft:"auto"}),"number"==typeof r&&(n={marginLeft:0===r?"0px":`calc(100% * ${r} / var(--Grid-columns))`}),e(t,n)}),t},y=({theme:e,ownerState:r})=>{if(!r.container)return{};let t={"--Grid-columns":12};return g(e.breakpoints,r.columns,(e,r)=>{e(t,{"--Grid-columns":r})}),t},Z=({theme:e,ownerState:r})=>{if(!r.container)return{};let t=v(r),n=h(r)?{[`--Grid-rowSpacing${r.level||""}`]:t("row")}:{};return g(e.breakpoints,r.rowSpacing,(t,a)=>{var l;t(n,{[`--Grid-rowSpacing${r.level||""}`]:"string"==typeof a?a:null==(l=e.spacing)?void 0:l.call(e,a)})}),n},j=({theme:e,ownerState:r})=>{if(!r.container)return{};let t=v(r),n=h(r)?{[`--Grid-columnSpacing${r.level||""}`]:t("column")}:{};return g(e.breakpoints,r.columnSpacing,(t,a)=>{var l;t(n,{[`--Grid-columnSpacing${r.level||""}`]:"string"==typeof a?a:null==(l=e.spacing)?void 0:l.call(e,a)})}),n},N=({theme:e,ownerState:r})=>{if(!r.container)return{};let t={};return g(e.breakpoints,r.direction,(e,r)=>{e(t,{flexDirection:r})}),t},S=({ownerState:e})=>{let r=f(e),t=v(e);return(0,n.Z)({minWidth:0,boxSizing:"border-box"},e.container&&(0,n.Z)({display:"flex",flexWrap:"wrap"},e.wrap&&"wrap"!==e.wrap&&{flexWrap:e.wrap},{margin:`calc(${r("row")} / -2) calc(${r("column")} / -2)`},e.disableEqualOverflow&&{margin:`calc(${r("row")} * -1) 0px 0px calc(${r("column")} * -1)`}),(!e.container||h(e))&&(0,n.Z)({padding:`calc(${t("row")} / 2) calc(${t("column")} / 2)`},(e.disableEqualOverflow||e.parentDisableEqualOverflow)&&{padding:`${t("row")} 0px 0px ${t("column")}`}))},$=e=>{let r=[];return Object.entries(e).forEach(([e,t])=>{!1!==t&&void 0!==t&&r.push(`grid-${e}-${String(t)}`)}),r},E=(e,r="xs")=>{function t(e){return void 0!==e&&("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e&&e>0)}if(t(e))return[`spacing-${r}-${String(e)}`];if("object"==typeof e&&!Array.isArray(e)){let r=[];return Object.entries(e).forEach(([e,n])=>{t(n)&&r.push(`spacing-${e}-${String(n)}`)}),r}return[]},k=e=>void 0===e?[]:"object"==typeof e?Object.entries(e).map(([e,r])=>`direction-${e}-${r}`):[`direction-xs-${String(e)}`];var C=t(5893);let O=["className","columns","container","component","direction","wrap","spacing","rowSpacing","columnSpacing","disableEqualOverflow"],q=(0,p.Z)(),G=(0,u.Z)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,r)=>r.root});function _(e){return(0,c.Z)({props:e,name:"MuiGrid",defaultTheme:q})}var B=t(948),W=t(1657);let P=function(e={}){let{createStyledComponent:r=G,useThemeProps:t=_,componentName:u="MuiGrid"}=e,c=l.createContext(0),p=l.createContext(void 0),h=(e,r)=>{let{container:t,direction:n,spacing:a,wrap:l,gridSize:i}=e,c={root:["root",t&&"container","wrap"!==l&&`wrap-xs-${String(l)}`,...k(n),...$(i),...t?E(a,r.breakpoints.keys[0]):[]]};return(0,o.Z)(c,e=>(0,s.Z)(u,e),{})},f=r(y,j,Z,b,N,S,w),v=l.forwardRef(function(e,r){var o,s,u,v,x,g,b,w;let y=(0,d.Z)(),Z=t(e),j=(0,m.Z)(Z),N=l.useContext(c),S=l.useContext(p),{className:$,columns:E=12,container:k=!1,component:q="div",direction:G="row",wrap:_="wrap",spacing:B=0,rowSpacing:W=B,columnSpacing:P=B,disableEqualOverflow:A}=j,T=(0,a.Z)(j,O),D=A;N&&void 0!==A&&(D=e.disableEqualOverflow);let M={},R={},z={};Object.entries(T).forEach(([e,r])=>{void 0!==y.breakpoints.values[e]?M[e]=r:void 0!==y.breakpoints.values[e.replace("Offset","")]?R[e.replace("Offset","")]=r:z[e]=r});let L=null!=(o=e.columns)?o:N?void 0:E,I=null!=(s=e.spacing)?s:N?void 0:B,U=null!=(u=null!=(v=e.rowSpacing)?v:e.spacing)?u:N?void 0:W,V=null!=(x=null!=(g=e.columnSpacing)?g:e.spacing)?x:N?void 0:P,X=(0,n.Z)({},j,{level:N,columns:L,container:k,direction:G,wrap:_,spacing:I,rowSpacing:U,columnSpacing:V,gridSize:M,gridOffset:R,disableEqualOverflow:null!=(b=null!=(w=D)?w:S)&&b,parentDisableEqualOverflow:S}),F=h(X,y),H=(0,C.jsx)(f,(0,n.Z)({ref:r,as:q,ownerState:X,className:(0,i.Z)(F.root,$)},z));return k&&(H=(0,C.jsx)(c.Provider,{value:N+1,children:H})),void 0!==D&&D!==(null!=S&&S)&&(H=(0,C.jsx)(p.Provider,{value:D,children:H})),H});return v}({createStyledComponent:(0,B.ZP)("div",{name:"MuiGrid2",overridesResolver:(e,r)=>r.root}),componentName:"MuiGrid2",useThemeProps:e=>(0,W.Z)({props:e,name:"MuiGrid2"})});var A=P},3264:function(e,r,t){"use strict";var n=t(182);let a=(0,n.ZP)();r.Z=a},3881:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create-new-employee",function(){return t(9276)}])},8354:function(e,r,t){"use strict";t.d(r,{A:function(){return s}});var n=t(5893),a=t(5697),l=t.n(a);t(1664);var i=t(7357),o=t(1426);t(2540);let s=e=>{let{children:r}=e;return(0,n.jsx)(i.Z,{component:"main",sx:{display:"flex",flex:"1 1 auto"},children:(0,n.jsx)(o.Z,{container:!0,sx:{flex:"1 1 auto"},children:r})})};s.prototypes={children:l().node}},9276:function(e,r,t){"use strict";t.r(r);var n=t(5893),a=t(9008),l=t.n(a),i=t(1163),o=t(8482),s=t(6310),u=t(7357),c=t(6447),d=t(5861),m=t(135),p=t(3321),h=t(2662),f=t(8334);t(8354);var v=t(4054),x=t(3340),g=t(6703),b=t(3599),w=t(6815),y=t(6822),Z=t(7294);let j=()=>{let e=(0,i.useRouter)();(0,h.a)();let r=(0,y.Z)(),t=(0,o.TA)({initialValues:{firstName:"",lastName:"",password:"",phoneNumber:"",email:"",department:"",submit:null},validationSchema:s.Ry({firstName:s.Z_().max(255).required("Name is required"),lastName:s.Z_().max(255).required("Surname is required"),password:s.Z_().max(255).required("Password is required"),phoneNumber:s.Z_().max(20).required("Phone Number is required"),email:s.Z_().email("Must be a valid email").max(255).required("Email is required"),department:s.Z_().max(255).required("Department is required")}),onSubmit:async(t,n)=>{try{console.log(t);let{firstName:n,lastName:a,password:l,phoneNumber:i,email:o,department:s}=t,u={email:o,firstName:n,lastName:a,phoneNumber:i,departmentUid:s,password:l};console.log(u),await r.post("/api/v1/employees",u),e.push("/employees")}catch(e){console.error("Error creating employee:",e),n.setStatus({success:!1}),n.setErrors({submit:"Error creating employee."}),n.setSubmitting(!1)}}}),[a,f]=(0,Z.useState)([]);return(0,Z.useEffect)(()=>{let e=async()=>{try{let e=await r.get("/api/v1/services/me/departments");f(e.data.departments)}catch(e){console.error("Error fetching departments:",e)}};e()},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l(),{children:(0,n.jsx)("title",{children:"Create Employee"})}),(0,n.jsx)(u.Z,{sx:{flex:"1 1 auto",alignItems:"center",display:"flex",justifyContent:"center"},children:(0,n.jsx)(u.Z,{sx:{maxWidth:550,px:3,py:"100px",width:"100%"},children:(0,n.jsxs)("div",{children:[(0,n.jsx)(c.Z,{spacing:1,sx:{mb:3},children:(0,n.jsx)(d.Z,{variant:"h4",children:"Create Employee"})}),(0,n.jsxs)("form",{noValidate:!0,onSubmit:t.handleSubmit,children:[(0,n.jsxs)(c.Z,{spacing:3,children:[(0,n.jsx)(m.Z,{error:!!(t.touched.firstName&&t.errors.firstName),fullWidth:!0,helperText:t.touched.firstName&&t.errors.firstName,label:"Name",name:"firstName",onBlur:t.handleBlur,onChange:t.handleChange,value:t.values.firstName}),(0,n.jsx)(m.Z,{error:!!(t.touched.lastName&&t.errors.lastName),fullWidth:!0,helperText:t.touched.lastName&&t.errors.lastName,label:"Surname",name:"lastName",onBlur:t.handleBlur,onChange:t.handleChange,value:t.values.lastName}),(0,n.jsx)(m.Z,{error:!!(t.touched.password&&t.errors.password),fullWidth:!0,helperText:t.touched.password&&t.errors.password,label:"Password",name:"password",onBlur:t.handleBlur,onChange:t.handleChange,type:"password",value:t.values.password}),(0,n.jsx)(m.Z,{error:!!(t.touched.phoneNumber&&t.errors.phoneNumber),fullWidth:!0,helperText:t.touched.phoneNumber&&t.errors.phoneNumber,label:"Phone Number",name:"phoneNumber",onBlur:t.handleBlur,onChange:t.handleChange,value:t.values.phoneNumber}),(0,n.jsx)(m.Z,{error:!!(t.touched.email&&t.errors.email),fullWidth:!0,helperText:t.touched.email&&t.errors.email,label:"Email Address",name:"email",onBlur:t.handleBlur,onChange:t.handleChange,type:"email",value:t.values.email}),(0,n.jsxs)(v.Z,{fullWidth:!0,children:[(0,n.jsx)(x.Z,{id:"department-label",children:"Department"}),(0,n.jsxs)(g.Z,{labelId:"department-label",id:"department",name:"department",value:t.values.department,onChange:t.handleChange,onBlur:t.handleBlur,error:!!(t.touched.department&&t.errors.department),label:"Department",children:[(0,n.jsx)(b.Z,{value:"",disabled:!0,children:"Select a Department"}),a.map(e=>(0,n.jsx)(b.Z,{value:e.uid,children:e.name},e.uid))]}),t.touched.department&&t.errors.department&&(0,n.jsx)(w.Z,{error:!0,children:t.errors.department})]})]}),t.errors.submit&&(0,n.jsx)(d.Z,{color:"error",sx:{mt:3},variant:"body2",children:t.errors.submit}),(0,n.jsx)(p.Z,{fullWidth:!0,size:"large",sx:{mt:3},type:"submit",variant:"contained",children:"Create Employee"})]})]})})})]})};j.getLayout=e=>(0,n.jsx)(f.A,{children:e}),r.default=j},6822:function(e,r,t){"use strict";var n=t(5121);let a=()=>{let e=n.Z.create({baseURL:"https://bettercity.mikita.dev",timeout:8e3,headers:{Authorization:"Bearer "+window.sessionStorage.getItem("token")}});return e};r.Z=a}},function(e){e.O(0,[60,230,410,703,121,28,333,334,774,888,179],function(){return e(e.s=3881)}),_N_E=e.O()}]);